def gcdSort(nums):
    uf_normal = gcdSortAux(nums)
    uf_sorted = gcdSortAux(sorted(nums))
    for x in range(len(uf_normal)):
        if uf_normal[x] != uf_sorted[x]:
            return False

    return True


def gcdSortAux(nums):
    u_f = [ i for i in range(len(nums)) ]
    for i in range(len(u_f)):
        u_f[i]=find_root(u_f, nums, i, get_prime_product(i), u_f[i])

    return u_f

def GCD(A, B):
    print(A, B)
    if A%B == 0:
        return B
    return GCD(B, A%B)

def get_prime_product(x):
    p=2
    product=1
    while x > 1:
        if x % p == 0: product*=p
        while x % p == 0: x//=p
        p+=1
    return product

def find_root(root_arr, nums, i, prime, root):
    if i >= len(nums):
        return root

    if GCD(nums[i], prime) > 1:
        root_arr[i] = find_root(root_arr, nums, i+1, get_prime_product(prime*nums[i]), root_arr[i])
        return root_arr[i]
    else:
        return find_root(root_arr, nums, i+1, prime, root)



#print(GCD(102, 85))
#print(GCD(112, 43))
print(gcdSort([10,5,9,3,15]))
print(gcdSort([5,2,6,2]))
print(gcdSort([7,21,3]))
print(gcdSort([14, 28, 5, 95, 18, 34, 19]))
print(gcdSort([2493,1598,2877,4744,4331,1351,705,4189,2874,1897,4223,696,1246,2933,1014,313,3316,3953,4430,60,1256,2255,738,396,932,4869,2051,762,2162,864,1017,4285,2412,4657,164,4346,3331,4399,4361,2554,1329,3939,918,4463,3082,182,3017,3522,122,3426,4544,3398,3251,4155,960,534,4120,790,1625,2042,4556,3731,2120,4790,3897,520,3626,1959,2950,3118,319,1845,4999,3886,4165,2576,4781,1875,1164,1633,3567,2207,2280,3564,143,2920,606,3072,1621,1454,3883,2061,4211,2342,1839,1307,3138,4393,4258,763,964,2314,1087,907,356,3084,4121,2259,1866,3788,2629,3300,546,4284,4628,926,840,3835,170,4978,1219,337,3254,4078,2751,1280,4424,4553,2812,3646,419,828,2249,284,1546,3204,1781,2142,4309,4232,2601,3852,2678,2342,706,2798,1173,2218,3069,2082,2090,2340,2669,2578,678,150,4312,1989,2154,3270,3434,2376,1772,4157,410,739,1792,641,3747,4266,3983,2913,3208,2452,4157,2433,421,2420,3099,3314,3952,2857,125,1306,2097,4341,3762,3563,1207,2594,995,4819,4386,2029,4740,4119,239,1097,2631,3156,996,2462,3220,1592,2824,35,1654,4605,164,3020,4906,2158,408,344,102,4623,1766,3771,3590,1642,4537,305,3341,4837,2570,736,4223,4223,2281,2141,2106,4272,4700,4890,2907,826,1483,4179,2040,3718,1097,4979,2799,243,2288,614,4625,1918,3354,882,1561,712,3794,2614,3748,1085,4333,609,2935,620,684,1008,753,3258,1961,2292,2978,1292,3374,2803,1799,2228,4844,1131,551,3686,3656,4886,3960,1796,4929,1226,2876,3272,4258,3769,1885,4311,877,1986,2231,4274,4591,1273,627,4091,2425,2585,2194,2413,4236,3299,1008,2512,4639,2626,2005,2190,668,4843,4424,3202,4486,290,1474,1889,1167,2890,3350,4296,3507,4401,3074,1356,1131,1216,4801,94,4558,2620,4878,4178,1107,2655,1521,2365,182,4409,1988,2806,4784,4184,320,3870,2957,951,3893,3042,2136,617,1831,4673,942,2224,1852,1380,1426,1494,2424,4313,4862,255,422,1658,4571,3897,1674,4075,2080,3406,4327,3410,2596,1841,3887,4037,21,658,3329,1364,4977,2767,1361,1559,1601,1967,922,694,4976,2672,256,4689,3025,176,2318,3973,3471,89,1808,4400,549,2730,2492,802,3639,2282,2652,4398,1369,4899,4926,1984,4002,688,4712,4812,140,2435,263,1110,1840,4288,4294,4756,4109,827,4884,36,355,2489,4829,2368,1221,1720,1271,3539,2791,4207,2166,3335,1612,3264,2799,1726,1897,4357,2520,2738,877,1224,4865,4646,540,2387,3412,2081,4612,4853,1899,771,261,1465,3282,2875,1569,990,3423,4787,4707,1020,1975,3067,750,3065,1962,3419,3427,1163,2224,165,3430,4481,3460,2258,3902,3927,3469,2406,3281,1583,446,4266,4406,177,3548,862,3674,1295,2982,4683,4608,4964,1792,2760,2587,1919,776,2323,662,2317,2561,88,2034,2331,2825,4948,821,2296,366,2178,1332,684,1001,3343,1075,847,3167,1453,4163,2772,4064,2525,3997,2567,4319,2803,4909,4464,1381,4052,504,3250,606,1251,544,2643,3190,2063,3098,2305,3696,4441,1520,3527,4015,3204,2664,335,2400,2370,4538,3919,2514,1356,4387,4601,4817,155,3071,3757,1184,1444,1103,996,2001,1524,2496,4551,1700,1473,979,1252,4102,4009,1540,3399,1832,2051,2912,3105,2623,4318,2992,1005,514,3395,915,4736,4156,1025,3310,3330,2879,2888,3192,2110,3145,2837,4894,1078,744,186,1416,1226,1965,1374,827,3293,1090,1526,3361,2469,3238,524,2152,4298,1215,2975,4477,3763,4607,1293,3552,4054,2223,1690,4281,4198,4153,1693,3674,3174,3707,394,2074,1634,4856,3100,3092,3272,2072,3756,1830,2318,3874,2400,530,2524,1006,915,1633,2718,3423,1033,4550,3333,1416,636,1612,3186,1546,305,3375,3758,4702,2564,62,4859,384,4207,3896,4303,591,2955,3799,2903,4783,650,3846,4954,1731,4831,2294,2687,527,2721,216,1556,4796,2662,1412,3787,335,1785,1247,1648,2774,1398,2696,3001,275,2205,3928,3524,2784,2675,4042,2829,4199,4671,3866,1960,1571,128,4058,646,4434,1466,40,2718,1815,650,1842,925,1071,4833,2033,1258,962,2078,529,1275,2945,2485,2220,4074,4850,3564,1759,3911,3464,1865,612,531,3784,1256,2962,1934,4715,4179,1129,2250,4813,2434,1331,4624,991,3156,1018,3838,927,2928,1131,3551,3351,267,2909,2353,838,1472,3394,4699,987,374,1371,482,4508,482,2274,3037,3127,918,4829,1609,2257,1247,1078,1130,1251,60,1877,1175,4655,1690,88,170,3982,96,3592,2713,2418,3629,2035,18,1727,604,3680,4033,3735,3161,1808,4472,4322,1597,2748,18,385,2194,1540,4840,3077,2394,2924,4744,4337,608,4230,1666,107,759,2197,4952,530,4112,1682,3000,261,2972,223,77,3068,2374,4764,2763,3691,203,3295,1990,2455,4500,1050,2888,4440,2869,2662,4952,3913,2080,3732,4190,4,2630,3263,1490,4432,3773,4604,1693,64,418,1782,4841,2271,2718,511,1965,723,3169,2372,3461,2095,1250,3918,4439,2007,1112,4647,374,4848,4754,1490,4174,2796,721,2068,689,407,4933,3740,382,4874,3741,4825,3180,2543,1762,3041,1665,4048,3745,3150,3661,75,1643,4432,683,2064,2130,3828,4937,3668,2252,85,1529,652,4704,1187,924,1158,2709,1911,4827,3940,4402,4777,3839,2013,1107,1265,917,2062,214,3612,1451,103,4445,4523,2766,4052,3051,3272,37,3021,524,147,1182,2898,1750,2163,4676,2080,2834,2602,4707,613,1837,508,2129,2106,2945,1760,666,3688,2326,306,4906,1567,2867,3365,4688,1357,1855,2219,665,1035,4315,1955,3402,518,4517,1228,284,3947,4275,214,2881,1396,1140,4803,4626,1895,1215,760,2596,1798,4868,4318,1242,767,3585,2432,2849,2521,4297,3446,4645,2823,2219,3821,56,940,2387,232,4809,3046,2334,2805,4957,281,198,900,3083,254,151,1092,2371,3968,368,3001,4226,3517,3969,2182,2159,1604,3178,2105,1101,4289,2242,1748,2224,4973,1124,3412,13,1960,1223,1902,821,3276,4612,2521,1954,4008,3884,4062,207,3179,323,2445,4561,932,4398,1956,2565,803,2868,3095,1145,2018,3199,1745,2506,668,1149,4214,1843,3764,4778,3875,3620,647,1508,4734,3496,576,2983,3598,1449,4597,112,4616,3995,1765,1701,4731,2385,3900,1548,3016,207,3602,1133,713,3745,3844,424,1167,3852,4812,4329,4230,3909,452,2997,525,813,2044,2675,3756,4938,1791,471,3551,2084,140,3031,3067,2605,282,2981,4252,3930,4067,3983,291,3160,553,823,415,3291,2972,2813,2640,2463,1714,1989,1749,521,2637,2177,882,2373,1297,3953,4462,868,2125,4305,2556,4029,3640,1787,2872,111,2430,2125,1029,1618,4429,2615,4742,1335,3102,2043,3601,4107,3329,2578,3000,2362,799,1938,2875,1753,3997,373,1644,4116,4723,4082,1646,4963,462,759,139,1326,628,1219,1957,2185,4805,808,2958,4646,2468,3468,2837,2847,3472,3415,2337,4692,505,405,927,4859,3585,3388,1327,2531,896,229,4927,3459,598,2444,4427,4625,655,3779,2911,4423,681,612,4233,323,3307,2002,926,2419,3009,3122,4319,2683,4152,1796,2842,2647,3916,985,293,152,1054,1215,3301,558,3692,4273,1645,3996,4225,1420,3721,2704,3009,4234,1817,2120,3574,3267,4367,4273,2523,4737,1864,128,2496,4636,778,3652,4809,1907,4741,2187,1136,4235,3705,1873,3043,4651,2830,4241,1991,1284,1811,2865,1051,3930,1324,699,3018,4240,2705,2024,482,4857,677,2059,3924,3307,678,691,1378,4830,538,2170,2749,2577,4193,4906,3004,1866,3019,4019,4298,662,4343,4058,2781,1848,3485,1648,1441,1706,4538,683,2884,3353,4313,397,3931,2397,3790,585,4977,1798,680,2945,45,1634,3574,734,402,524,4373,1708,4957,1925,3169,518,1677,3132,1364,3097,3987,2037,4627,3397,4503,2165,1969,2112,2332,2167,3490,2803,3654,662,405,2835,1039,77,3930,2802,1559,4800,853,4024,2607,1061,4591,4064,4459,4170,4195,1804,362,4223,1627,2097,3918,2231,4377,2229,4016,3458,1199,125,1599,4028,2570,1349,3862,822,527,3843,4393,135,1896,542,3900,4748,4388,310,1471,2005,938,1815,1477,98,4746,2182,3622,3448,833,3451,211,3993,3277,148,369,571,4207,4563,1367,1044,2899,4880,1716,3305,1309,1184,4253,2242,915,1562,2667,993,1261,1447,553,526,2135,3974,1180,3216,3261,1407,2856,3377,4206,254,1803,3093,3719,4995,3604,528,1655,1385,2873,4089,1017,1714,989,4319,4252,315,629,3943,4336,1479,135,2359,2704,2306,3427,3049,1232,2170,1745,294,1177,3115,939,2067,1063,4157,2703,1475,27,2137,3626,729,901,1921,1898,4757,548,3195,114,797,3680,1316,2408,2874,3369,1616,3267,4350,365,391,4017,4096,4335,2007,53,4188,3233,1924,4403,653,53,183,3225,3140,4568,3567,320,1021,3226,462,4197,2016,974,2226,1620,4953,11,1107,4423,3204,757,906,949,3975,3572,4613,2371,1878,1185,3911,1145,1661,4252,13,2209,2016,2187,2042,1329,3869,3103,3959,2018,921,3026,898,3964,3949,2311,3957,3306,1401,950,4746,958,2527,4340,1280,14,605,4582,1962,3125,3765,1253,3501,461,1898,3238,869,2867,3281,1267,3323,4952,4431,3092,2423,4280,1093,970,4243,3775,3828,2362,2255,4416,4454,1286,4695,4433,1318,4506,3559,564,482,4848,523,3598,2927,2249,2621,952,4065,2104,1669,1120,303,3371,3184,2480,1613,3072,3361,3571,4505,1312,4182,2758,3770,608,4175,4328,2481,728,4849,913,4763,496,31,3390,4560,3876,1750,1287,2343,4922,3031,1578,4428,666,1745,806,785,2275,2392,2065,4589,3241,2928,1184,1787,3642,2645,326,160,2774,1446,1979,4059,4428,1942,4011,2290,1594,2027,1941,4799,2313,3732,145,4627,4396,1675,1826,646,1994,3949,2906,2526,4971,610,4538,4649,3876,1977,113,3704,982,1248,3520,4248,532,4712,3903,2763,1222,1632,3280,1962,4132,3389,3249,523,4807,2163,72,1017,1654,2501,1621,696,618,3926,1541,1357,2688,3236,3365,4334,2655,2964,2183,3932,648,1426,4338,3520,55,1096,3859,197,4416,208,3565,1314,148,1090,3677,1936,4747,2566,2610,1319,1765,1122,174,2360,4821,1579,403,3711,2831,709,2562,3568,593,457,3186,4077,4102,696,4638,378,3908,2346,167,3983,3630,2983,815,1008,1183,4169,523,925,249,3916,1672,469,705,902,34,2392,4346,3300,96,433,4028,4260,184,4170,2304,2243,1811,2259,765,3733,3472,4814,2670,2769,1819,2528,3877,4450,1105,894,2044,3916,2472,472,2665,2920,4966,2448,1438,83,3395,2768,877,986,4283,1364,4082,4565,3468,2682,2016,3913,4989,4914,1570,3003,57,272,4313,1743,3882,4538,4758,2652,1179,4733,2088,2863,1313,2039,4520,2917,122,4837,3765,2900,4305,913,2674,3958,4287,3190,1557,3953,4463,4173,4966,17,2341,2629,1857,1656,3229,2904,867,2968,992,4582,3402,4232,3516,2648,1352,509,3793,4660,1105,1804,416,2886,3981,4493,4743,3356,1502,1187,3066,3008,3022,1732,4964,352,2210,1122,1651,3281,2036,2457,59,1273,4006,4943,3839,3982,1190,1569,843,1676,1988,4068,839,4462,3492,395,3182,1204,243,2791,4470,357,3266,4930,1690,4368,26,3372,15,4212]))
